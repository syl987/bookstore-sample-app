<div class="container">
  <app-title-bar>
    <button mat-stroked-button (click)="createBook()" i18n>Create Book</button>
  </app-title-bar>

  <p i18n>This is a collection of your books.</p>

  @if (!userBooksLoading()) {
    <h2 i18n>Books in Draft</h2>

    <p i18n>These books are not publicly visible and can be edited.</p>

    <div class="grid gap-6 md:grid-cols-2 xl:grid-cols-3">
      @for (book of userBooksDraft(); track book) {
        <a [routerLink]="['/user/books', book.id, 'edit']" class="text-decoration-none text-inherit">
          <app-volume-card [volume]="book.volume"><app-user-book-card-content [book]="book" /></app-volume-card>
        </a>
      } @empty {
        <p class="text-secondary col-span-full py-2 text-center" i18n>No books were found.</p>
      }
    </div>

    <h2 i18n>Published Books</h2>

    <p i18n>These books are publicly visible and available for buying. Changes are not possible.</p>

    <div class="grid gap-6 md:grid-cols-2 xl:grid-cols-3">
      @for (book of userBooksPublished(); track book) {
        <a [routerLink]="['/user/books', book.id]" class="text-decoration-none text-inherit">
          <app-volume-card [volume]="book.volume"><app-user-book-card-content [book]="book" /></app-volume-card>
        </a>
      } @empty {
        <p class="text-secondary col-span-full py-2 text-center" i18n>No books were found.</p>
      }
    </div>

    <h2 i18n>Sold Books</h2>

    <p i18n>Sold books are not publicly visible, but they will remain listed here. Changes are not possible.</p>

    <div class="grid gap-6 md:grid-cols-2 xl:grid-cols-3">
      @for (book of userBooksSold(); track book) {
        <a [routerLink]="['/user/books', book.id]" class="text-decoration-none text-inherit">
          <app-volume-card [volume]="book.volume"><app-user-book-card-content [book]="book" /></app-volume-card>
        </a>
      } @empty {
        <p class="text-secondary col-span-full py-2 text-center" i18n>No books were found.</p>
      }
    </div>

    <h2 i18n>Bought Books</h2>

    <p i18n>This is your list of the books that you bought from other users.</p>

    <div class="grid gap-6 md:grid-cols-2 xl:grid-cols-3">
      @for (book of userBooksBought(); track book) {
        <a [routerLink]="['/user/books', book.id]" class="text-decoration-none text-inherit">
          <app-volume-card [volume]="book.volume"><app-user-book-card-content [book]="book" /></app-volume-card>
        </a>
      } @empty {
        <p class="text-secondary col-span-full py-2 text-center" i18n>No books were found.</p>
      }
    </div>
  } @else {
    <mat-spinner class="mb-4" aria-label="Loading" i18n-aria-label />
  }
</div>
