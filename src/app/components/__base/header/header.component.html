<mat-toolbar class="shadow">
  <mat-toolbar-row>
    <ng-container *ngIf="desktop$ | async; else mobile">
      <div class="text-primary fs-large me-s">{{ options.applicationName }}</div>

      <a mat-button *ngFor="let link of PUBLIC_LINKS" color="primary" [routerLink]="link.path" routerLinkActive="active">{{ link.label }}</a>

      <span class="ms-2xs me-auto"></span>

      <ng-container *ngIf="user$ | async as user; else public">
        <button mat-button (click)="openUserSettingsDialog(user)">
          <app-header-user-info [user]="user" />
        </button>

        <mat-divider vertical class="mx-2xs" style="height: 32px" />

        <a mat-button *ngFor="let link of USER_LINKS" color="primary" [routerLink]="link.path" routerLinkActive="active">{{ link.label }}</a>

        <button mat-button color="primary" (click)="logout()" class="me-n2xs">Logout</button>
      </ng-container>
    </ng-container>
  </mat-toolbar-row>
</mat-toolbar>

<div class="app-container bg-light">
  <div class="mt-m"></div>

  <div class="d-flex mb-s">
    <div *ngIf="displayBackButton$ | async" class="align-self-center my-ns">
      <button mat-button (click)="navigateBack()" class="ms-n2xs me-2xs">
        <mat-icon fontIcon="fa-arrow-left" />
        Back
      </button>
    </div>
    <h1 *ngIf="desktop$ | async" class="my-0">{{ title$ | async }}</h1>
  </div>
</div>

<ng-template #public>
  <a *ngIf="displayLoginLink$ | async" mat-button color="primary" routerLink="/login" class="me-ns">Login</a>
</ng-template>

<ng-template #mobile>
  <button mat-icon-button color="primary" (click)="sidenavToggle.emit()" aria-label="Toggle Navigation" class="ms-nxs me-3xs">
    <mat-icon fontIcon="fa-bars" style="font-size: 20px" />
  </button>

  <div class="text-primary fs-normal me-s">{{ title$ | async }}</div>
</ng-template>
