<h1 mat-dialog-title>New Book</h1>

<div mat-dialog-content>
  <mat-form-field floatLabel="always" class="mt-2xs">
    <mat-label>Search volume</mat-label>
    <input matInput (input)="searchVolumes($any($event.target).value)" placeholder="Title, author, text,..." />
  </mat-form-field>

  <mat-selection-list [multiple]="false" #list="matSelectionList">
    <mat-list-option *ngFor="let volume of volumes$ | async | slice : 0 : 10" [value]="volume" class="text-truncate">
      <img *ngIf="volume.volumeInfo.imageLinks" [src]="volume.volumeInfo.imageLinks.smallThumbnail" alt="Book thumbnail" height="44" width="44" class="me-s" />
      {{ volume.volumeInfo.title }}
    </mat-list-option>
  </mat-selection-list>
</div>

<div mat-dialog-actions>
  <button
    mat-flat-button
    color="primary"
    (click)="createUserBook(list.selectedOptions.selected[0].value)"
    [spinning]="creating$ | async"
    [disabled]="list.selectedOptions.isEmpty() || (creating$ | async)"
  >
    Create book
  </button>
  <button mat-stroked-button mat-dialog-close>Close</button>
</div>
